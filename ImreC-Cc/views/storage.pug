extends layout.pug

block content
    h3='Storage ' + id

    table(class="table table-striped padding-top")
        tr
            td(class="col-xs-1 middle") Storage ID
            td(class="breakable")=id
        tr
            td(class="col-xs-2 middle") Storage URL
            td
                a(href=encodeURI(url) class="breakable")=url
        tr
            td(class="col-xs-1 middle") Task
            td='?'

    form(action=s3form.url method="post" enctype="multipart/form-data" id="s3form")
        each key in s3form.s3fields
            input(type="hidden" name=key.name value=key.value)

        span(class="btn btn-default btn-file") click here to #[b ADD] some new #[b FILES]
            input(type="file" name="file" id="file" required="required" multiple="multiple")

    div(class="progress-bar-area padding-top")

    table(id="file-table" class="table table-striped padding-top")
        thead
            tr
                th(class="col-xs-1 middle")
                    input(type="checkbox" id="files-all-check")
                th(class="col-xs-1 middle") Collector
                th(class="col-xs-1 middle") Worker
                th(class="col-xs-8 middle") URL

        tbody(id="file-list")
            each file in files
                tr
                    td
                        input(type="checkbox" name="files" value=file.name)
                    td
                        span='?'
                    td
                        span='?'
                    td
                        a(href=encodeURI(file.url))=file.name

    h3='Tasks'

    p.
        The only available task is rescaling.#[br]
        Supported&nbsp;image&nbsp;types: .png,&nbsp;.jpg,&nbsp;.bmp#[br]
        Supported&nbsp;scale&nbsp;range: from&nbsp;1%&nbsp;to&nbsp;200%

    form(class="form-horizontal padding-top")
        div(class="form-group")
            span(class="col-md-3 control-label") Selected images
            div(class="col-md-3")
                span(id="scale-images" class="form-control") None

        div(class="form-group")
            label(for="scale-task" class="col-md-3 control-label") Requested scale (%)
            div(class="col-md-3")
                input(type="text" id="scale-task" name="scale-task" class="slider form-control"
                data-slider-min="1" data-slider-max="200" data-slider-step="1" data-slider-value="75")

        div(class="form-group")
            div(class="col-md-offset-3 col-md-3")
                input(type="submit" name="submit" value="Schedule that task" class="form-control")
